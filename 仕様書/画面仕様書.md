# グラレコメーカーアプリケーション 画面仕様書

## 1. 概要

### 1.1 アプリケーションの目的
指定された文章をHTMLに変換するアプリケーション。生成AIを活用し、ユーザーが指定したスタイル設定に基づいて、入力テキストをHTMLに変換する。

### 1.2 主要機能
- テキストのHTML変換
- スタイル設定のカスタマイズ
- 変換結果のプレビュー表示
- HTMLコードの表示とエクスポート
- 基本/上級モードの切り替え

## 2. 画面構成

### 2.1 画面サイズ
- 基本設計: 1280px × 800px（最小サイズ）
- レスポンシブ対応: あり

### 2.2 主要エリア
1. ヘッダーエリア
2. 設定パネル（左サイド）
3. メインコンテンツエリア
4. ヘルプパネル（オーバーレイ）

## 3. 詳細仕様

### 3.1 ヘッダーエリア

#### 3.1.1 構成要素
| 要素 | 種類 | 説明 |
|------|------|------|
| アプリケーションタイトル | テキスト | 「HTML コンバーター」の表示 |
| アイコン | アイコン | Wand2アイコン（魔法の杖） |
| AIモデル選択 | ドロップダウン | 使用するAIモデルを選択 |
| 上級モード切替 | トグルボタン | 上級/標準モードの切り替え |
| ヘルプボタン | アイコンボタン | ヘルプパネルの表示/非表示 |
| 設定ボタン | アイコンボタン | アプリケーション設定画面を開く |

#### 3.1.2 AIモデル選択オプション
- GPT-4
- GPT-3.5 Turbo
- Claude 3 Opus
- Gemini Pro

#### 3.1.3 動作仕様
- 上級モードボタンクリック時: 設定パネルを上級モード表示に切り替え
- ヘルプボタンクリック時: ヘルプパネルの表示/非表示を切り替え

### 3.2 設定パネル（左サイド）

#### 3.2.1 共通構成要素
| 要素 | 種類 | 説明 |
|------|------|------|
| 設定タブ | タブ | 「基本設定」「上級設定」の切り替え |
| モード表示 | テキスト+アイコン | 現在の設定モード（標準/上級）を表示 |
| 設定適用ボタン | ボタン | 設定内容を適用する |

#### 3.2.2 基本設定タブ要素
| 要素 | 種類 | 説明 |
|------|------|------|
| プリセット選択 | ボタングループ | 設定済みスタイルの選択 |
| カラースタイル | フォーム要素群 | メインカラー、フォントスタイル、レイアウト設定 |
| 装飾効果 | トグルスイッチ群 | シャドウ効果、境界線、アニメーションの有無 |

#### 3.2.3 上級設定タブ要素
| 要素 | 種類 | 説明 |
|------|------|------|
| カラー詳細設定 | 入力フィールド群 | 色コード直接指定、複数色の個別設定 |
| タイポグラフィ詳細 | 入力フィールド群 | フォント、サイズ、行間などの詳細設定 |
| レイアウト詳細 | 入力フィールド群 | 横幅、余白、間隔などの詳細設定 |
| 追加指示 | テキストエリア | AIへの自由形式の追加指示入力 |

#### 3.2.4 プリセットオプション
- コーポレート
- カジュアル
- ミニマル
- クリエイティブ

#### 3.2.5 動作仕様
- タブ切り替え: クリックで基本設定と上級設定を切り替え
- モード切替ボタン: クリックで標準モードと上級モードを切り替え
- 設定適用ボタン: クリックで設定内容をプレビューに反映

### 3.3 メインコンテンツエリア

#### 3.3.1 ナビゲーション要素
| 要素 | 種類 | 説明 |
|------|------|------|
| ビュー切替タブ | タブグループ | 編集/プレビュー/HTMLの切り替え |
| 保存ボタン | アイコンボタン | 現在の設定と内容を保存 |
| エクスポートボタン | アイコンボタン | 生成されたHTMLをエクスポート |

#### 3.3.2 編集ビュー要素
| 要素 | 種類 | 説明 |
|------|------|------|
| テキストエディタヘッダー | ヘッダー | タイトルと文字数表示 |
| フォーマットツールバー | ボタングループ | 見出し、段落、リスト、引用などの書式設定 |
| テキストエディタ | テキストエリア | 変換したいテキストの入力領域 |
| 変換ボタン | ボタン | テキストをHTMLに変換する |

#### 3.3.3 プレビュービュー要素
| 要素 | 種類 | 説明 |
|------|------|------|
| プレビューヘッダー | ヘッダー | ブラウザ風の装飾 |
| プレビュー領域 | コンテナ | 変換されたHTMLのプレビュー表示 |

#### 3.3.4 HTMLビュー要素
| 要素 | 種類 | 説明 |
|------|------|------|
| HTMLヘッダー | ヘッダー | タイトルとコピーボタン |
| コード表示エリア | コード表示 | 生成されたHTMLコードの表示（シンタックスハイライト付き） |

#### 3.3.5 動作仕様
- ビュー切替: クリックで編集/プレビュー/HTMLを切り替え
- テキスト編集後の変換ボタンクリック: AIによる変換処理を実行し、結果をプレビューとHTMLビューに反映
- コピーボタンクリック: HTMLコードをクリップボードにコピー

### 3.4 ヘルプパネル（オーバーレイ）

#### 3.4.1 構成要素
| 要素 | 種類 | 説明 |
|------|------|------|
| ヘルプパネルヘッダー | ヘッダー | タイトルと閉じるボタン |
| ヒントリスト | リスト | 使い方のヒント一覧 |
| もっと見るボタン | ボタン | 追加のヒントを表示 |

#### 3.4.2 動作仕様
- 閉じるボタンクリック: ヘルプパネルを非表示にする
- もっと見るボタンクリック: 追加のヒントを表示する

## 4. 機能詳細

### 4.1 テキスト入力とHTML変換

#### 4.1.1 対応フォーマット
- プレーンテキスト
- マークダウン記法（見出し、リスト、強調など）

#### 4.1.2 フォーマットツール機能
| ツール | 対応HTML要素 | 備考 |
|------|------|------|
| 見出し | h1, h2, h3 | 階層レベルを選択可能 |
| 段落 | p | 標準テキストブロック |
| リスト | ul, ol, li | 順序付き/順序なしリスト |
| 引用 | blockquote | 引用テキスト |

#### 4.1.3 変換処理フロー
1. ユーザーがテキストを入力
2. 変換ボタンクリック
3. 設定内容とテキストをAIに送信
4. AI処理中はローディング表示
5. 変換結果を受信
6. プレビューとHTMLビューに反映

### 4.2 設定オプション詳細

#### 4.2.1 基本設定項目
| 設定項目 | 選択肢/範囲 | デフォルト値 |
|------|------|------|
| カラーテーマ | モカブラウン, ブルー, グリーン, カスタム | モカブラウン |
| フォントスタイル | 明朝体, ゴシック体, ミックス | ゴシック体 |
| レイアウト | 中央揃え, 全幅, サイドバー付き | 中央揃え |
| シャドウ効果 | オン/オフ | オン |
| 境界線 | オン/オフ | オン |
| アニメーション | オン/オフ | オフ |

#### 4.2.2 上級設定項目
| 設定項目 | 入力タイプ | 単位 | デフォルト値 |
|------|------|------|------|
| メインカラー | カラーコード | HEX | #B35C00 |
| セカンダリカラー | カラーコード | HEX | #FDE68A |
| アクセントカラー | カラーコード | HEX | #44403C |
| 背景色 | カラーコード | HEX | #FAFAF9 |
| 見出しフォント | 選択式 | - | serif |
| H1サイズ | 数値 | rem/px/em | 2.5rem |
| H2サイズ | 数値 | rem/px/em | 1.8rem |
| 本文フォント | 選択式 | - | sans |
| 本文サイズ | 数値 | rem/px/em | 1rem |
| 行間 | 数値 | 倍/px/% | 1.6倍 |
| 最大横幅 | 数値 | px/rem/% | 1200px |
| コンテンツ余白 | 数値×4 | rem | 2rem |
| セクション間隔 | 数値 | rem/px/em | 2rem |
| 角丸 | 数値 | rem/px/em | 0.5rem |

#### 4.2.3 追加指示フィールド
- 最大文字数: 500文字
- 用途: AIへの特殊な指示や要件を自由形式で指定

### 4.3 出力・保存機能

#### 4.3.1 エクスポート形式
- HTML単一ファイル（CSS内包）
- HTML+CSSファイル（分離）

#### 4.3.2 保存項目
- 入力テキスト
- 設定内容
- 生成されたHTML

## 5. 状態とトランジション

### 5.1 アプリケーション状態
- 初期状態: 編集ビュー、基本設定、標準モード
- 入力済み状態: テキスト入力後
- 処理中状態: 変換処理実行中
- 結果表示状態: 変換結果表示後

### 5.2 モード切替
- 標準モード → 上級モード: 詳細設定項目が表示される
- 上級モード → 標準モード: 基本設定のみに簡略化される

### 5.3 ビュー切替
- 編集ビュー → プレビュービュー: 変換結果のプレビューを表示
- プレビュービュー → HTMLビュー: 生成されたHTMLコードを表示
- HTMLビュー → 編集ビュー: テキスト編集に戻る

## 6. エラー処理

### 6.1 入力エラー
| エラー種類 | 表示方法 | 対応方法 |
|------|------|------|
| 空の入力 | エラーメッセージ | テキスト入力を促す |
| 無効な色コード | フィールド赤枠表示 | 正しい形式での入力を促す |
| 範囲外の数値 | 警告メッセージ | 有効範囲内の値に自動調整 |

### 6.2 AI処理エラー
| エラー種類 | 表示方法 | 対応方法 |
|------|------|------|
| API接続エラー | エラーダイアログ | 再試行オプション表示 |
| 変換失敗 | エラーメッセージ | 設定の見直しや入力の修正を促す |
| タイムアウト | 警告メッセージ | 長文の場合は分割処理を提案 |

## 7. レスポンシブ対応

### 7.1 ブレークポイント
- デスクトップ: 1280px以上
- タブレット: 768px - 1279px
- モバイル: 767px以下

### 7.2 レイアウト変更点
| 画面サイズ | 変更点 |
|------|------|
| タブレット | 設定パネルは折りたたみ可能に |
| モバイル | 設定パネルはオーバーレイ表示、一画面一機能に簡略化 |

## 8. 拡張性と今後の機能

### 8.1 予定される機能拡張
- テンプレートライブラリの追加
- 共同編集機能
- 画像アップロード・配置機能
- バージョン履歴管理

### 8.2 APIとの連携
- 外部サービスとの連携（Figma, Notionなど）
- Webhookによる自動変換
- CI/CDパイプラインとの統合

## 9. アクセシビリティ対応

### 9.1 対応基準
- WCAG 2.1 AAレベルに準拠

### 9.2 具体的対応
- キーボード操作のサポート
- スクリーンリーダー対応
- 十分なコントラスト比の確保
- フォーカス表示の明確化

## 10. セキュリティ

### 10.1 データ保護
- ローカルストレージの暗号化
- セッションタイムアウト設定
- クロスサイトスクリプティング対策

### 10.2 認証・認可
- ユーザーアカウント機能（将来実装予定）
- API呼び出しの認証トークン管理